{% load staticfiles %}
<html>
    <head>
        <title>
            Display jobs
        </title>
        <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
       <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"/>

       <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src='https://code.responsivevoice.org/responsivevoice.js'></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"/>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>

  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
   <style>
    .card:hover{
        background:rgb(190, 40, 40);
    }
.glyphicon {
    font-size: 50px;
    margin-top: 10px;
}
.glyphicon.glyphicon-search {
    font-size: 18px;
}
.glyphicon.glyphicon-home,.glyphicon.glyphicon-user,.glyphicon.glyphicon-folder-close {
    font-size: 30px;
}
p {
    height:60px;
    line-height:20px; /* Height / no. of lines to display */
overflow: hidden;
display: -webkit-box;
-webkit-line-clamp: 3;
-webkit-box-orient: vertical;
}
a{color: black; 
      text-decoration: none;
}
a:hover 
{
     color: black; 
     text-decoration:none; 
     cursor:pointer;  
}
 a:hover{
        font-family: 'CantarellBold', Arial, sans-serif;
    }
/* .abc:hover{
  background-color: #380505;
    font-weight:bold;
    font-family: 'CantarellBold', Arial, sans-serif;
    text-transform: capitalize;
    width:40rem;
} */
.container{
  margin-top:120px;
}
@media all and (max-width:982px){
  .container{
    margin-top: 380px;
  }
}
    </style>
    </head>
    <body style="background-color:lightgray">
<!-- <nav class="navbar navbar-inverse">
                    <div class="container-fluid">
                      <div class="navbar-header">   
                        <a class="navbar-brand" href="#"><h1><b>LinkedIn</b></h1></a>
                      </div>
                      <ul class="nav navbar-nav" style="font-size:16px">
                        <li class="active"><a href="#"><i style="margin-right:8px;" class="glyphicon glyphicon-home"></i>Home</a></li>
                        <li><a href="#"><i style="margin-right:8px;" class="glyphicon glyphicon-user"></i>My Network</a></li>
                        <li><a href="#"><i style="margin-right:8px;" class="glyphicon glyphicon-folder-close"></i>Jobs</a></li>
                      </ul>
                      <form class="navbar-form navbar-left" action="" method="post">
			{% csrf_token %}
                        <div class="input-group">
                          <input style="width:180px;" type="text" class="form-control" placeholder="Search" name="search" required>
                          <div class="input-group-btn">
                            <button class="btn btn-default" type="submit">
                              <i class="glyphicon glyphicon-search"></i>
                            </button>
                          </div>
                        </div>
                      </form>
                    </div>
                </nav> -->
                <nav class="navbar fixed-top navbar-expand-lg navbar-light" style="background-color:#1d0303">
                    <a class="navbar-brand" href="#" style=" font-size:40px;"><b style="color:rgb(0, 123, 139);">LinkedIn</b></a>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                      <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarNav">
                      <ul class="navbar-nav">
                          <li style="margin-left:15px; font-size:18px;" class="nav-item active"><a style="color:gray" class="nav-link" href="{% url 'index' 'profile' %}"><i style="margin-right:8px;" class="glyphicon glyphicon-home"></i>Home</a></li>
                          <li style="margin-left:15px; font-size:18px;" class="nav-item"><a style="color:gray" class="nav-link" href="#"><i style="margin-right:8px;" class="glyphicon glyphicon-user"></i>My Network</a></li>
                          <li style="margin-left:15px; font-size:18px;" class="nav-item"><a style="color:gray" class="nav-link" href="{% url 'allJobs' %}"><i style="margin-right:8px;" class="glyphicon glyphicon-folder-close"></i>Jobs</a></li>
                          <li style="margin-left:45px; margin-top:15px;" class="nav-item">
                            <form class="navbar-form navbar-left" action="{% url 'index' 'search' %}" method="post">
                                {% csrf_token %}
                                                  <div class="input-group">
                                                    <input style="width:220px;height:38px" type="text" class="form-control" id="search" placeholder="Search" name="search" required>
                                                    <div class="input-group-btn">
                                                      <button class="btn btn-default" id="submit" type="submit">
                                                        <i class="glyphicon glyphicon-search"></i>
                                                      </button>
                                                    </div>
                                                  </div>
                              </form>
                            </li>
                        </ul>
                      </ul>
                    </div>
                  </nav>
        <div class="container" style="background-color:darkcyan;font-size: 16px; margin-bottom:140px">
<h1 style="font-style:italic;font-weight:bold"> Search results for Jobs </h1>
 {% if results %}
 <div class="row">
{% for field in results %}
     <a href="{% url 'jobDetail' field.id %}" id="{{field.id}}" >  

        <div class="col-sm-6 abc" style="width:33%; float: left; margin-top:30px" >
          <div class="card bg-light mb-4 hoverable" style="width: 30rem;">
            <img class="card-img-top" src="{% static "job.png" %}" alt="Card image cap" style="height:150px">
            <div class="card-body">
              <h5 class="card-title" style="font-size: 18px;">{{ field.designation}} </h5>
              <p class="card-text">{{ field.Description}}</p>
            </div>
            <ul class="list-group list-group-flush">
              <li class="list-group-item">{{ field.Company}}</li>
              <li class="list-group-item">{{ field.location}} </li>
            </ul>
             <div class="card-body">
              <a href="#" class="card-link">{{field.id}}</a>
{% if field in applied %}
              <a href="#" class="card-link">APPLIED</a>
{% else %}
		<a href="#" class="card-link">APPLY</a>
{% endif %}
            </div>

          </div>
        </div>
 </a>       
   

{% endfor %}
 </div>
{% else %}
 <h2 style="text-align:center"> No results found! </h2>
{% endif %}
</div>


<!-- search results end here -->
<!-- Footer -->
<div class="fixed-bottom" style="margin-top:120px">

<footer class="page-footer font-small special-color-dark pt-4" style="background-color:black; ">

    <!-- Footer Links -->
    <div class="container-fluid text-center text-md-left">


    <!-- Copyright -->
    <div class="footer-copyright text-center py-3" style="font-size:16px;color:white ">&copy; 2019 Copyright:
      <a href="https://mdbootstrap.com/education/bootstrap/" style="color:blue"> LinkedinHack.com</a>
    </div>
    <!-- Copyright -->

  </footer>
</div>
  <!-- Footer -->

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>   
</body>
    <script>
      var colors = [ 'aqua' , 'azure' , 'beige', 'bisque', 'black', 'blue', 'brown', 'chocolate', 'coral', 'crimson', 'cyan', 'fuchsia', 'ghostwhite', 'gold', 'goldenrod', 'gray', 'green', 'indigo', 'ivory', 'khaki', 'lavender', 'lime', 'linen', 'magenta', 'maroon', 'moccasin', 'navy', 'olive', 'orange', 'orchid', 'peru', 'pink', 'plum', 'purple', 'red', 'salmon', 'sienna', 'silver', 'snow', 'tan', 'teal', 'thistle', 'tomato', 'turquoise', 'violet', 'white', 'yellow'];
      var SpeechRecognition = SpeechRecognition || webkitSpeechRecognition
      var SpeechGrammarList = SpeechGrammarList || webkitSpeechGrammarList
      var SpeechRecognitionEvent = SpeechRecognitionEvent || webkitSpeechRecognitionEvent
      var grammar = '#JSGF V1.0; grammar colors; public <color> = ' + colors.join(' | ') + ' ;'
      var status="none";
      //document.getElementById('hello').click();
      
      
      var recognition = new SpeechRecognition();
      var speechRecognitionList = new SpeechGrammarList();
      speechRecognitionList.addFromString(grammar, 1);
      recognition.grammars = speechRecognitionList;
      //recognition.continuous = false;
      recognition.lang = 'en-US';
      recognition.interimResults = false;
      recognition.maxAlternatives = 1;
      recognition.continuous = true;
      var  count=0;
      
       $(document).ready(function() {
      
      
      // document.body.onclick = function() {
      
      recognition.start();
      recognition.onresult = function(event) {
       
        var last = event.results.length - 1;
        var color = event.results[last][0].transcript;
      console.log(color);
      var link = "{% url 'process' %}";
      //.replace('1234', $('#myClick').val());
      var jsonText = color; //JSON.stringify(values);
      
      $.ajax({url: link, data: {'color': color},
      success: function(data){
         console.log("successfully called ajax call");
       
      // code for search operation
      if(data.operation=="search"){
      var text="";
      if(data.org!=""&&data.person!=""){
      text = data.person+","+data.org;}
      else if(data.org!=""){
      text=data.org;}
      else if(data.person!=""){
      text = data.person;
      }
	else {
       text =data.entity; }

      document.getElementById('search').value=text;
      document.getElementById('search').innerhtml=text;
      
      document.getElementById('submit').click();  }
      
      //code for add operation
      else if(data.operation=="add"){
      
      if(data.link=="education"){
        window.location.href = "{%url 'addEdu' %}";
      }
        else if(data.link=="experience"){
        window.location.href = "{%url 'addExp' %}";
      }
        else if(data.link=="project"){
        window.location.href = "{%url 'addProject' %}";
      }
      else{
        //document.getElementById('profile_button').click();  
       window.location.href = "{%url 'index' 'profile' %}";

      }
      
      } //code for add operation ends here
      else if(data.operation=="navigate"){
  if(data.link=="next" || data.link=="forward"){
    window.history.forward();
    console.log("Navigation")
  }else if (data.link=="back" || data.link=="previous"){
    window.history.back();
    console.log("Navigation")
  }
else{
console.log("called"+data.job_id);
    	document.getElementById(""+data.job_id).click();
}
}// navigation code ends here
        }  // ajax success part ends here
      });
      
        };
      
       //  }
      
      });
      </script>
      
</html>